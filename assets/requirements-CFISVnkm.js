import{u as r,j as e}from"./index-DfdKCSZf.js";const a={title:"Requirements",description:"undefined"};function n(i){const s={a:"a",aside:"aside",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...r(),...i.components};return e.jsxs(e.Fragment,{children:[e.jsx(s.header,{children:e.jsxs(s.h1,{id:"requirements",children:["Requirements",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#requirements",children:e.jsx(s.div,{"data-autolink-icon":!0})})]})}),`
`,e.jsx(s.p,{children:"PAPI is designed to work flawlessly with almost any Polkadot-like chain. Even though, we have some requirements that the chain and environment have to fulfill."}),`
`,e.jsxs(s.h2,{id:"environment",children:["Environment",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#environment",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.h3,{id:"nodejs",children:["NodeJS",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#nodejs",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["PAPI is developed using the latest NodeJS LTS (currently ",e.jsx(s.code,{children:"20.x"}),"). The minimum required version is ",e.jsx(s.code,{children:"20.6.0"}),", while we recommend the latest available release."]}),`
`,e.jsxs(s.h3,{id:"bun",children:["Bun",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#bun",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["In case you are using ",e.jsx(s.code,{children:"bun"})," as your Javascript runtime, then Papi will work flawlessly with it! Just a small detail, if using a WebSocket provider, make sure you import it from ",e.jsx(s.code,{children:"polkadot-api/ws-provider/web"}),"!"]}),`
`,e.jsxs(s.h3,{id:"browser",children:["Browser",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#browser",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"There is no specific required version, Polkadot-API works as expected in any modern browser."}),`
`,e.jsxs(s.h2,{id:"typescript",children:["Typescript",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#typescript",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["In order for PAPI to be imported correctly, and get all the types, the minimum working version of ",e.jsx(s.code,{children:"typescript"})," is ",e.jsx(s.code,{children:"5.2"}),"."]}),`
`,e.jsxs(s.h2,{id:"chain",children:["Chain",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#chain",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.h3,{id:"node",children:["Node",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#node",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"If using Polkadot-API client through Smoldot provider (light client) there are no specific requirements."}),`
`,e.jsxs(s.p,{children:["When using the WebSocket provider with a ",e.jsx(s.a,{href:"https://github.com/paritytech/polkadot-sdk",children:"Paritytech Polkadot-SDK"})," based node, there are three cases:"]}),`
`,e.jsxs(s.h4,{id:"polkadot-sdk--1110",children:["Polkadot-SDK ",e.jsx(s.code,{children:">= 1.11.0"}),e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#polkadot-sdk--1110",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Polkadot-API will work without any issues. The WebSocket provider could be used without further issues:"}),`
`,e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" { createClient } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "polkadot-api"'})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" { getWsProvider } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "polkadot-api/ws-provider/web"'})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" client"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" createClient"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"getWsProvider"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"wss://your-rpc.your-url.xyz"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"))"})]})]})}),`
`,e.jsx(s.aside,{"data-callout":"warning",children:e.jsxs(s.p,{children:["A new error in Polkadot-SDK has been discovered, reported and solved in Polkadot-SDK ",e.jsx(s.code,{children:"1.16.0"})," (or ",e.jsx(s.code,{children:"stable-2409"}),"). Therefore, we recommend anyone connecting through a WebSocket to use the same following recommendations as in Polkadot-SDK ",e.jsx(s.code,{children:"1.1.0 <= x < 1.11.0"}),"."]})}),`
`,e.jsxs(s.h4,{id:"polkadot-sdk-110--x--1110",children:["Polkadot-SDK ",e.jsx(s.code,{children:"1.1.0 <= x < 1.11.0"}),e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#polkadot-sdk-110--x--1110",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["If your node uses versions between ",e.jsx(s.code,{children:"1.1"})," and ",e.jsx(s.code,{children:"1.11"}),", you are still good to go with Polkadot-API. The node implements the JSON-RPC spec wrongly, but we provide some enhancers to workaround these flaws. You need to start the connection as follows:"]}),`
`,e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" { createClient } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "polkadot-api"'})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" { getWsProvider } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "polkadot-api/ws-provider/web"'})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" { withPolkadotSdkCompat } "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "polkadot-api/polkadot-sdk-compat"'})]}),`
`,e.jsx(s.span,{className:"line","data-empty-line":!0,children:" "}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" client"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" createClient"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"  withPolkadotSdkCompat"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"getWsProvider"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"wss://your-rpc.your-url.xyz"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")),"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})})]})}),`
`,e.jsxs(s.h4,{id:"polkadot-sdk--110",children:["Polkadot-SDK ",e.jsx(s.code,{children:"< 1.1.0"}),e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#polkadot-sdk--110",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["The JSON-RPC spec implemented prior ",e.jsx(s.code,{children:"1.1"})," was really poor and we cannot feasibly workaround it. Polkadot-API does not support those nodes."]}),`
`,e.jsxs(s.h3,{id:"runtime",children:["Runtime",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#runtime",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["The most important thing to take into account is that the runtime needs to have a Runtime Metadata version ",e.jsx(s.code,{children:">=14"}),". We don't support any chain below that."]}),`
`,e.jsx(s.p,{children:"Besides that, Polkadot-API requires runtimes to implement some basic runtime calls. They are generally implemented in all chains developed using FRAME:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:["In order to get the metadata, it needs ",e.jsx(s.code,{children:"Metadata_metadata_versions"})," and ",e.jsx(s.code,{children:"Metadata_metadata_at_version"}),". If they are not present, then ",e.jsx(s.code,{children:"Metadata_metadata"})," needs to be there and answer a ",e.jsx(s.code,{children:"v14"})," Metadata."]}),`
`,e.jsxs(s.li,{children:["To create and broadcast transactions, Polkadot-API needs ",e.jsx(s.code,{children:"AccountNonceApi_account_nonce"})," and ",e.jsx(s.code,{children:"TaggedTransactionQueue_validate_transaction"}),". To estimate the fees, it also requires ",e.jsx(s.code,{children:"TransactionPaymentApi_query_info"}),"."]}),`
`]}),`
`,e.jsx(s.p,{children:"In order to create transactions as well, the following storage entry is required for obtaining the genesis block-hash:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:e.jsx(s.code,{children:"System.BlockHash"})}),`
`]}),`
`,e.jsx(s.p,{children:"And the following constant:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"System.Version"}),", having ",e.jsx(s.code,{children:"spec_version"})," and ",e.jsx(s.code,{children:"transaction_version"})," fields."]}),`
`]})]})}function o(i={}){const{wrapper:s}={...r(),...i.components};return s?e.jsx(s,{...i,children:e.jsx(n,{...i})}):n(i)}export{o as default,a as frontmatter};
